<!-- INÍCIO: Bloco de Contato Soft Prime (WhatsApp + E-mail) -->
<section class="secao-contato">
  <h2>Descreva seu projeto</h2>

  <form id="orcamentoForm"
        action="https://formsubmit.co/softprimestudio@gmail.com"
        method="POST" autocomplete="on" novalidate>

    <!-- Config para e-mail via FormSubmit -->
    <input type="hidden" name="_subject" value="Novo projeto — Soft Prime">
    <input type="hidden" name="_template" value="table">
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_next" value="https://azevedo-programador.github.io/softprime-site/obrigado.html">
    <input type="hidden" id="mensagemCompleta" name="Mensagem">
    <input type="text" name="_honey" style="display:none">

    <div class="grid">
      <label>Nome* <input id="nome" name="Nome" required placeholder="Seu nome"></label>
      <label>E-mail* <input id="email" name="E-mail" type="email" required placeholder="voce@exemplo.com"></label>
      <label>WhatsApp <input id="telefone" name="Telefone" inputmode="tel" placeholder="(11) 9 9999-9999"></label>
      <label>Assunto* <input id="assunto" name="Assunto" required placeholder="Ex.: Site institucional"></label>
      <label class="full">Descrição do projeto* 
        <textarea id="descricao" name="Descrição" required rows="6" placeholder="Conte o que você precisa, prazos, referências, etc."></textarea>
      </label>
    </div>

    <div class="acoes">
      <button type="button" id="btnWhats" class="btn whatsapp">Enviar por WhatsApp</button>
      <button type="submit" class="btn primario">Enviar por E-mail</button>
      <p id="erro" class="erro" hidden>Preencha os campos obrigatórios marcados com *</p>
    </div>
  </form>
</section>

<style>
  .secao-contato { max-width: 860px; margin: 0 auto; padding: 24px; }
  .grid { display: grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap: 16px; }
  .grid .full { grid-column: 1 / -1; }
  label { display:flex; flex-direction:column; gap:6px; font-weight:600; }
  input, textarea { padding:12px; border:1px solid #e5e7eb; border-radius:10px; font:inherit; }
  .acoes { display:flex; gap:12px; align-items:center; margin-top:10px; flex-wrap:wrap; }
  .btn { border:0; padding:12px 18px; border-radius:10px; cursor:pointer; font-weight:700; }
  .btn.primario { background:#0d1b2a; color:#fff; }
  .btn.whatsapp { background:#25D366; color:#0d1b2a; }
  .erro { color:#b91c1c; font-weight:600; }
</style>

<script>
  const $ = id => document.getElementById(id);

  function camposOK() {
    const obrig = [$('nome'), $('email'), $('assunto'), $('descricao')];
    let ok = true;
    obrig.forEach(el => {
      if (!el.value.trim()) { el.style.borderColor = '#b91c1c'; ok = false; }
      else { el.style.borderColor = '#e5e7eb'; }
    });
    $('erro').hidden = ok;
    return ok;
  }

  function montarMensagemPura() {
    return `Novo projeto - Soft Prime
Nome: ${$('nome').value.trim()}
E-mail: ${$('email').value.trim()}
WhatsApp: ${$('telefone').value.trim()}
Assunto: ${$('assunto').value.trim()}

Descrição:
${$('descricao').value.trim()}`;
  }

  function montarMensagemEncoded() {
    return encodeURIComponent(montarMensagemPura());
  }

  // WhatsApp
  $('btnWhats').addEventListener('click', () => {
    if (!camposOK()) return;
    const numero = '5511948848400'; // seu número no formato internacional
    const url = `https://wa.me/${numero}?text=${montarMensagemEncoded()}`;
    window.open(url, '_blank');
  });

  // E-mail (FormSubmit)
  $('orcamentoForm').addEventListener('submit', (e) => {
    if (!camposOK()) { e.preventDefault(); return; }
    $('mensagemCompleta').value = montarMensagemPura();
  });
</script>
<!-- FIM: Bloco de Contato Soft Prime (WhatsApp + E-mail) -->
